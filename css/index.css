@import './partials/preflight.css';
@import './partials/actions.css';
@import './partials/toolbar.css';
@import './partials/history.css';
@import './partials/errors.css';
@import './partials/options.css';
@import './partials/dialog.css';
@import './partials/forms.css';
@import './partials/clipboard.css';
@import './partials/sidebar.css';
@import './partials/library.css';
@import './partials/preview.css';
@import './partials/comments.css';
@import './partials/structure.css';
@import './partials/resizable.css';
@import './partials/fieldAreas.css';
@import './partials/messages.css';
@import './partials/settings.css';
@import './partials/search.css';
@import './partials/AddList.css';
@import './partials/Transform.css';
@import './partials/artboard.css';
@import './partials/debug.css';
@import './partials/scaleToFit.css';
@import './partials/DropTargets.css';

@font-face {
  font-family: 'PB Inter';
  font-weight: 100 900;
  font-display: swap;
  font-style: normal;
  font-named-instance: 'Regular';
  src: url('/Inter.var.woff2') format('woff2');
}

@tailwind base;
@tailwind components;
@tailwind utilities;

.bk {
  @apply font-sans;

  letter-spacing: 0;

  &.bk-init-overlay {
    @apply bg-slate-100/90 fixed top-0 left-0 w-screen h-screen z-[999999999] backdrop-blur-xl flex items-center justify-center;
    svg {
      @apply w-100 h-100 text-slate-200 animate-spin fill-slate-400;
    }
  }

  .bk-multi-select-area {
    @apply fixed top-0 left-0 pointer-events-none z-30;
    rect {
      @apply stroke-slate-400 stroke-[2];
      stroke-dasharray: 4 4;
      stroke-dashoffset: 100;
      animation: 0.1s pbSelectArea infinite;
      animation-timing-function: linear;
    }
  }

  .bk-multi-select-rectangle {
    @apply absolute top-0 left-0 pointer-events-none  rounded;
    &:not(.bk-is-active) {
      @apply outline-2 outline-dashed outline-slate-400 outline-offset-2;
    }

    &.bk-is-active {
      @apply outline outline-2 outline-blue-700 outline-offset-2 bg-blue-500/10;
    }
  }
}

@keyframes pbSelectArea {
  from {
    stroke-dashoffset: 0;
  }
  to {
    stroke-dashoffset: 8;
  }
}

.bk-multi-select-selection {
  @apply absolute z-[10000] top-0 left-0;
}

.bk-body {
}
.bk-body-loading {
  cursor: wait;
  .bk-draggable-list-container,
  .bk-control {
    pointer-events: none;
  }
}

.bk-draggable-list-container {
  @apply pointer-events-auto;
  .bk-list-item {
    @apply bg-white p-20 font-bold;
  }
  .bk-list-item-inner {
    @apply flex gap-20 h-full items-center;
  }
  .bk-list-item-icon {
    width: 2rem;
    height: 2rem;
  }
}

.bk-multi-select-hidden {
  display: none !important;
}

.bk-multi-select-anchor {
  @apply absolute w-0 h-0 z-[9999999999] pointer-events-none;
}

.bk-button {
  @apply h-50 !px-20 inline-flex justify-center items-center gap-10 rounded-md !font-semibold  focus:outline-none transition !shadow !font-sans !text-base;
  @apply !text-slate-900 hover:!text-white;
  @apply !bg-slate-200 hover:!bg-slate-600;

  &.bk-is-primary {
    @apply !bg-blue-700 !text-white hover:!bg-blue-800;
    &[disabled] {
      @apply opacity-30;
    }
  }
  &.bk-is-danger {
    @apply !bg-red-600 !text-white hover:!bg-red-800;
    &[disabled] {
      @apply opacity-30;
    }
  }
  &.is-small {
    @apply h-40 !px-10 text-sm;
  }
  &.is-danger {
    @apply !bg-red-600 !text-white hover:!bg-red-800 !border-red-600 hover:!border-red-800;
  }
  &.is-icon-only {
    @apply !px-0 !w-50;
  }
  &[disabled] {
    @apply !pointer-events-none;
  }
  svg {
    @apply !fill-current;
    width: 1.5em;
    height: 1.5em;
  }

  &.bk-is-loading {
    @apply bg-no-repeat bg-center pointer-events-none;
    background-image: url(./loader.svg);
    @apply !text-transparent;
  }
}

.bk-blokkli-item-icon {
  width: 1em;
  height: 1em;
  svg {
    @apply w-full h-full fill-current;
  }
}

.bk-owner-indicator {
  @apply fixed bottom-0 right-0 bg-red-100 z-[90000] p-20 text-red-800 font-medium text-lg flex justify-between items-center;
  left: var(--bk-root-offset-left);
}

.bk.bk-dragging-overlay {
  @apply fixed top-0 left-0 bg-blue-500/25 pointer-events-none rounded outline outline-blue-600 outline-offset-1 z-[999999];
}

.bk-qr-code {
  canvas {
    @apply !w-full !h-auto aspect-square;
  }

  p {
    @apply my-20;
  }
}

/* .bk-is-disabled { */
/*   @apply opacity-30 group-hover:opacity-60; */
/* } */

.bk-draggable-list-container {
  &.is-empty {
    min-height: 4rem;
  }
  .draggable {
    outline-offset: -3px;
    a,
    iframe,
    input,
    form,
    button {
      pointer-events: none;
    }
  }
}

[data-element-type='existing'] {
  > * {
    user-select: none;
  }
  a,
  button {
    pointer-events: none;
  }
}

.bk-item-focused {
  outline: 4px solid var(--gin-color-primary);
  outline-offset: 0px;
  border-radius: 5px;
}

.bk-field-list {
  position: relative;
  min-height: 3rem;
}

.bk-body:not(.bk-is-selecting):not(.bk-is-dragging) {
  .bk-field-list {
    &:hover {
      outline: 1px dashed;
      .bk-field-list {
        outline: 1px dashed;
      }
    }
  }
  .bk-main-canvas {
    &:hover {
      .draggable {
        @apply outline-dashed outline-slate-400 outline-[1px];
      }
    }
  }
}

.bk-body.bk-is-selecting * {
  pointer-events: none !important;
}

.bk-body {
  .bk-main-canvas {
    background: white;
  }
}

.bk-blokkli-item-label {
  @apply flex items-center text-slate-700 text-left;
  > div {
    @apply shrink-0;
  }
  span {
    @apply text-sm truncate min-w-0;
  }
}

.bk-parent:hover .bk-blokkli-item-label,
.bk-blokkli-item-label:hover {
  .bk-blokkli-item-label-icon {
    @apply bg-slate-200 text-slate-900 border-slate-400;
  }
}

.bk-blokkli-item-label-icon {
  @apply w-25 h-25 border rounded bg-slate-100 flex items-center justify-center text-slate-500 mr-[7px] relative z-20 border-slate-300;
}

.bk,
.bk-html-preview {
  * {
    scrollbar-width: thin;
  }

  /* Works on Chrome, Edge, and Safari */
  *::-webkit-scrollbar {
    width: 8px;
  }

  *::-webkit-scrollbar-track {
    @apply bg-slate-100;
  }

  *::-webkit-scrollbar-thumb {
    @apply bg-slate-400;
    border-radius: 20px;
  }
}

.bk-overlay {
  @apply bg-slate-800/90 backdrop-blur-md;
}
